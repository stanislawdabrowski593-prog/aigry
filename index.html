<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>AIGRY GENESIS - Oficjalna Platforma</title>
    <style>
        :root { --accent: #00ff88; --bg: #0a0a0a; --panel: #161616; }
        body { background: var(--bg); color: #fff; font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; flex-direction: column; align-items: center; overflow: hidden; }
        
        nav { background: var(--panel); width: 100%; padding: 15px; border-bottom: 2px solid #333; display: flex; justify-content: center; gap: 10px; }
        .btn { background: #000; color: var(--accent); border: 1px solid var(--accent); padding: 10px 20px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn:hover { background: var(--accent); color: #000; box-shadow: 0 0 10px var(--accent); }

        #main-container { display: flex; width: 1200px; height: 600px; margin-top: 20px; border: 2px solid #333; background: #000; position: relative; }
        #game-canvas { flex-grow: 1; }
        #sidebar { width: 300px; background: var(--panel); border-left: 2px solid #333; padding: 20px; overflow-y: auto; }
        
        .update-card { border-left: 3px solid var(--accent); padding-left: 10px; margin-bottom: 15px; background: #222; padding: 10px; }
        .v-tag { color: var(--accent); font-size: 12px; font-weight: bold; }
        .v-desc { font-size: 13px; color: #ccc; margin-top: 5px; }

        #hud { position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.7); padding: 8px; border: 1px solid #444; pointer-events: none; font-family: monospace; }
    </style>
</head>
<body>

<nav>
    <button class="btn" onclick="Game.start('mc')">Minecraft AI Alpha</button>
    <button class="btn" onclick="Game.start('mario')">Super Mario Bros</button>
    <button class="btn" onclick="Game.start('inv')">Space Invaders</button>
    <button class="btn" onclick="Game.start('snake')">Snake Genesis</button>
</nav>

<div id="main-container">
    <div id="hud">Wybierz moduł z menu powyżej...</div>
    <canvas id="game-canvas" width="900" height="600"></canvas>
    <div id="sidebar">
        <h2 id="side-title">Dziennik Zmian</h2>
        <div id="side-logs">Wybierz grę, by zobaczyć wpisy.</div>
    </div>
</div>

<script>
    const canvas = document.getElementById('game-canvas');
    const ctx = canvas.getContext('2d');
    const hud = document.getElementById('hud');
    const sideLogs = document.getElementById('side-logs');
    const sideTitle = document.getElementById('side-title');

    let loop, keys = {};
    window.onkeydown = e => keys[e.code] = true;
    window.onkeyup = e => keys[e.code] = false;

    const DB = {
        mc: {
            name: "Minecraft AI Alpha",
            logs: [{v: "v1.0", t: "Wydanie Alpha: Silnik Raycast 3D i pierwszy bot AI."}]
        },
        mario: {
            name: "Super Mario Bros",
            logs: [{v: "v1.0", t: "Wydanie podstawowe: Fizyka skoku i kolizja z gruntem."}]
        },
        inv: {
            name: "Space Invaders",
            logs: [{v: "v1.0", t: "Wydanie podstawowe: Walka z obcymi i licznik punktów."}]
        },
        snake: {
            name: "Snake Genesis",
            logs: [{v: "v1.0", t: "Wydanie podstawowe: Klasyczna pętla gry."}]
        }
    };

    const Game = {
        start(id) {
            if(loop) clearInterval(loop);
            ctx.clearRect(0,0,900,600);
            
            // Update Sidebar
            sideTitle.innerText = DB[id].name;
            sideLogs.innerHTML = DB[id].logs.map(l => `
                <div class="update-card">
                    <span class="v-tag">${l.v}</span>
                    <div class="v-desc">${l.t}</div>
                </div>
            `).join('');

            if(id === 'mc') this.runMC();
            if(id === 'mario') this.runMario();
            if(id === 'inv') this.runInv();
            if(id === 'snake') this.runSnake();
        },

        runMC() {
            let px=2, py=2, pa=0;
            let ai={x:5, y:5, a:0};
            const map = [[1,1,1,1,1],[1,0,0,0,1],[1,0,2,0,1],[1,0,0,0,1],[1,1,1,1,1]];
            loop = setInterval(() => {
                ctx.fillStyle="#87ceeb"; ctx.fillRect(0,0,900,300);
                ctx.fillStyle="#444"; ctx.fillRect(0,300,900,300);
                if(keys['KeyW']) { px+=Math.cos(pa)*0.07; py+=Math.sin(pa)*0.07; }
                if(keys['KeyA']) pa-=0.05; if(keys['KeyD']) pa+=0.05;
                for(let i=0; i<90; i++) {
                    let ra=pa-0.5+i/90, d=0, rx=px, ry=py;
                    while(d<10) {
                        d+=0.1; rx=px+Math.cos(ra)*d; ry=py+Math.sin(ra)*d;
                        if(map[Math.floor(ry)]?.[Math.floor(rx)]) {
                            let h=600/d; ctx.fillStyle="green"; ctx.fillRect(i*10, 300-h/2, 10, h); break;
                        }
                    }
                }
                hud.innerText = "MC AI ALPHA: WASD";
            }, 1000/60);
        },

        runMario() {
            let x=100, y=450, vy=0, j=false;
            loop = setInterval(() => {
                ctx.fillStyle="#5c94fc"; ctx.fillRect(0,0,900,600);
                ctx.fillStyle="#e38a58"; ctx.fillRect(0,500,900,100);
                if(keys['ArrowRight']) x+=5; if(keys['ArrowLeft']) x-=5;
                if(keys['Space'] && !j) { vy=-15; j=true; }
                vy+=0.8; y+=vy;
                if(y>450) { y=450; vy=0; j=false; }
                ctx.fillStyle="red"; ctx.fillRect(x,y,40,50);
                hud.innerText = "MARIO: Spacja (Skok), Strzałki";
            }, 1000/60);
        },

        runInv() {
            let sx=400, b=[], score=0;
            loop = setInterval(() => {
                ctx.fillStyle="#000"; ctx.fillRect(0,0,900,600);
                if(keys['ArrowLeft']) sx-=7; if(keys['ArrowRight']) sx+=7;
                if(keys['Space'] && b.length<5) { b.push({x:sx+18,y:540}); keys['Space']=false; }
                ctx.fillStyle="#0f0"; ctx.fillRect(sx, 550, 40, 20);
                b.forEach((p,i)=>{ p.y-=10; ctx.fillStyle="yellow"; ctx.fillRect(p.x,p.y,4,10); if(p.y<0) b.splice(i,1); });
                hud.innerText = "INVADERS: Strzelaj spacją! Wynik: " + score;
            }, 1000/60);
        },

        runSnake() {
            let s=[{x:10,y:10}], d='R', f={x:15,y:15}, c=0;
            loop = setInterval(() => {
                if(c++ % 8 !== 0) return;
                ctx.fillStyle="#000"; ctx.fillRect(0,0,900,600);
                if(keys['ArrowUp'] && d!='D') d='U'; if(keys['ArrowDown'] && d!='U') d='D';
                if(keys['ArrowLeft'] && d!='R') d='L'; if(keys['ArrowRight'] && d!='L') d='R';
                let h={...s[0]};
                if(d=='U') h.y--; if(d=='D') h.y++; if(d=='L') h.x--; if(d=='R') h.x++;
                if(h.x<0||h.x>44||h.y<0||h.y>29) return Game.start('snake');
                s.unshift(h);
                if(h.x==f.x && h.y==f.y) { f={x:Math.floor(Math.random()*40),y:Math.floor(Math.random()*25)}; } else s.pop();
                ctx.fillStyle="lime"; s.forEach(p=>ctx.fillRect(p.x*20,p.y*20,18,18));
                ctx.fillStyle="red"; ctx.fillRect(f.x*20,f.y*20,18,18);
                hud.innerText = "SNAKE: Zbieraj czerwone punkty!";
            }, 1000/60);
        }
    };
</script>
</body>
</html>
